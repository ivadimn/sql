-- MySQL dump 10.13  Distrib 8.0.19, for Linux (x86_64)
--
-- Host: localhost    Database: hunter
-- ------------------------------------------------------
-- Server version	8.0.19

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `activities`
--

DROP TABLE IF EXISTS `activities`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `activities` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) DEFAULT NULL,
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=27 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Направления деятельности';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `activities`
--

LOCK TABLES `activities` WRITE;
/*!40000 ALTER TABLE `activities` DISABLE KEYS */;
INSERT INTO `activities` VALUES (1,'Административное обеспечение'),(2,'Бурение'),(3,'Бухгалтерский учет и налогообложение'),(4,'Внешнеэкономическая деятельность'),(5,'Геологоразведка'),(6,'Геофизика'),(7,'Добыча газа, газового конденсата, нефти'),(8,'Инвестиции и строительство'),(9,'Маркетинг'),(10,'Мобилизационная подготовка и гражданская оборона'),(11,'Освоение морских месторождений'),(12,'Переработка и использование газа'),(13,'Подземное хранение газа'),(14,'Связи с общественностью'),(15,'Стратегическое развитие'),(16,'Страхование'),(17,'Транспортировка газа'),(18,'Транспортные средства и спецтехника'),(19,'Управление имуществом'),(20,'Управление персоналом'),(21,'Управление производственными объектами'),(22,'Управление технологическими процессами'),(23,'Финансы и экономика'),(24,'Хозяйственное обеспечение'),(25,'Электроэнергетика'),(26,'Юридическое сопровождение');
/*!40000 ALTER TABLE `activities` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `contract_types`
--

DROP TABLE IF EXISTS `contract_types`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `contract_types` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(64) DEFAULT NULL,
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Виды трудовых договоров';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `contract_types`
--

LOCK TABLES `contract_types` WRITE;
/*!40000 ALTER TABLE `contract_types` DISABLE KEYS */;
INSERT INTO `contract_types` VALUES (1,'Срочный'),(2,'Бессрочный');
/*!40000 ALTER TABLE `contract_types` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `doc_types`
--

DROP TABLE IF EXISTS `doc_types`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `doc_types` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(128) NOT NULL,
  `is_necessary` tinyint(1) NOT NULL,
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=16 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Виды документов';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `doc_types`
--

LOCK TABLES `doc_types` WRITE;
/*!40000 ALTER TABLE `doc_types` DISABLE KEYS */;
INSERT INTO `doc_types` VALUES (1,'Справка',0),(2,'Аттесстат',0),(3,'Диплом',1),(4,'Сертификат',0),(5,'Свидетельство',0),(6,'Паспорт РФ',1),(7,'Заграничный паспорт',0),(8,'Свидетельство ИНН',1),(9,'СНИЛС',1),(10,'Автобиография',1),(11,'Трудовая книжка',1),(12,'Военный билет',0),(13,'Самопрезентация',1),(14,'Согласие на обработку персональных данных',1),(15,'Резюме',1);
/*!40000 ALTER TABLE `doc_types` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `edu_types`
--

DROP TABLE IF EXISTS `edu_types`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `edu_types` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(128) NOT NULL,
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Виды образования';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `edu_types`
--

LOCK TABLES `edu_types` WRITE;
/*!40000 ALTER TABLE `edu_types` DISABLE KEYS */;
INSERT INTO `edu_types` VALUES (6,'Высшее профессиональное образование'),(12,'Консультационные семинары'),(11,'Краткосрочные семинары'),(3,'Начальное профессиональное образование'),(5,'Неполное высшее образование'),(1,'Основное общее образование'),(9,'Повышение квалификации'),(7,'Послевузовское профессиональное образование'),(10,'Профессиональная переподготовка'),(2,'Среднее (полное) общее образование'),(4,'Среднее профессиональное образование'),(13,'Стажировка'),(8,'Ученое звание, ученая степень');
/*!40000 ALTER TABLE `edu_types` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `fan_m`
--

DROP TABLE IF EXISTS `fan_m`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `fan_m` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(32) DEFAULT NULL,
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `fan_m`
--

LOCK TABLES `fan_m` WRITE;
/*!40000 ALTER TABLE `fan_m` DISABLE KEYS */;
INSERT INTO `fan_m` VALUES (1,'Иван'),(2,'Сергей'),(3,'Пётр'),(4,'Семён'),(5,'Василий'),(6,'Александр'),(7,'Вячеслав'),(8,'Вадим'),(9,'Антон'),(10,'Виталий');
/*!40000 ALTER TABLE `fan_m` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ffn_m`
--

DROP TABLE IF EXISTS `ffn_m`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ffn_m` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(32) DEFAULT NULL,
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ffn_m`
--

LOCK TABLES `ffn_m` WRITE;
/*!40000 ALTER TABLE `ffn_m` DISABLE KEYS */;
INSERT INTO `ffn_m` VALUES (1,'Иванoвич'),(2,'Сергеевич'),(3,'Петрович'),(4,'Семёнович'),(5,'Васильевич'),(6,'Александрович'),(7,'Вячеславович'),(8,'Вадимович'),(9,'Антонович'),(10,'Витальевич');
/*!40000 ALTER TABLE `ffn_m` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `foreign_levels`
--

DROP TABLE IF EXISTS `foreign_levels`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `foreign_levels` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(64) NOT NULL,
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Виды документов';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `foreign_levels`
--

LOCK TABLES `foreign_levels` WRITE;
/*!40000 ALTER TABLE `foreign_levels` DISABLE KEYS */;
INSERT INTO `foreign_levels` VALUES (1,'A1'),(2,'A2'),(3,'B1'),(4,'B2'),(5,'C1'),(6,'C2'),(9,'Владеет свободно'),(8,'Умеет объясняться'),(7,'Читает и переводит со словарем');
/*!40000 ALTER TABLE `foreign_levels` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `fsn_m`
--

DROP TABLE IF EXISTS `fsn_m`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `fsn_m` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(32) DEFAULT NULL,
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `fsn_m`
--

LOCK TABLES `fsn_m` WRITE;
/*!40000 ALTER TABLE `fsn_m` DISABLE KEYS */;
INSERT INTO `fsn_m` VALUES (1,'Смирнов'),(2,'Иванов'),(3,'Кузнецов'),(4,'Соколов'),(5,'Попов'),(6,'Лебедев'),(7,'Козлов'),(8,'Новиков'),(9,'Морозов'),(10,'Петров');
/*!40000 ALTER TABLE `fsn_m` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `functions`
--

DROP TABLE IF EXISTS `functions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `functions` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `task_id` bigint unsigned NOT NULL,
  `name` text NOT NULL COMMENT 'Текстовое описание функции',
  `begin_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Дата создания функции',
  `end_at` datetime DEFAULT '9999-12-31 00:00:00' COMMENT 'Дата ограничения функции',
  UNIQUE KEY `id` (`id`),
  KEY `functions_task_id_fk` (`task_id`),
  CONSTRAINT `functions_task_id_fk` FOREIGN KEY (`task_id`) REFERENCES `tasks` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=113 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Функции распределяются по должностям штатного расписания';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `functions`
--

LOCK TABLES `functions` WRITE;
/*!40000 ALTER TABLE `functions` DISABLE KEYS */;
INSERT INTO `functions` VALUES (1,1,'Функция 11','2020-02-18 20:44:55','9999-12-31 00:00:00'),(2,1,'Функция 12','2020-02-18 20:44:55','9999-12-31 00:00:00'),(3,1,'Функция 13','2020-02-18 20:44:55','9999-12-31 00:00:00'),(4,1,'Функция 14','2020-02-18 20:44:55','9999-12-31 00:00:00'),(5,2,'Функция 21','2020-02-18 20:44:55','9999-12-31 00:00:00'),(6,2,'Функция 22','2020-02-18 20:44:55','9999-12-31 00:00:00'),(7,2,'Функция 23','2020-02-18 20:44:55','9999-12-31 00:00:00'),(8,2,'Функция 24','2020-02-18 20:44:55','9999-12-31 00:00:00'),(9,3,'Функция 31','2020-02-18 20:44:55','9999-12-31 00:00:00'),(10,3,'Функция 32','2020-02-18 20:44:55','9999-12-31 00:00:00'),(11,3,'Функция 33','2020-02-18 20:44:55','9999-12-31 00:00:00'),(12,3,'Функция 34','2020-02-18 20:44:55','9999-12-31 00:00:00'),(13,4,'Функция 41','2020-02-18 20:44:55','9999-12-31 00:00:00'),(14,4,'Функция 42','2020-02-18 20:44:55','9999-12-31 00:00:00'),(15,4,'Функция 43','2020-02-18 20:44:55','9999-12-31 00:00:00'),(16,4,'Функция 44','2020-02-18 20:44:55','9999-12-31 00:00:00'),(17,5,'Функция 51','2020-02-18 20:44:55','9999-12-31 00:00:00'),(18,5,'Функция 52','2020-02-18 20:44:55','9999-12-31 00:00:00'),(19,5,'Функция 53','2020-02-18 20:44:55','9999-12-31 00:00:00'),(20,5,'Функция 54','2020-02-18 20:44:55','9999-12-31 00:00:00'),(21,6,'Функция 61','2020-02-18 20:44:55','9999-12-31 00:00:00'),(22,6,'Функция 62','2020-02-18 20:44:55','9999-12-31 00:00:00'),(23,6,'Функция 63','2020-02-18 20:44:55','9999-12-31 00:00:00'),(24,6,'Функция 64','2020-02-18 20:44:55','9999-12-31 00:00:00'),(25,7,'Функция 71','2020-02-18 20:44:55','9999-12-31 00:00:00'),(26,7,'Функция 72','2020-02-18 20:44:55','9999-12-31 00:00:00'),(27,7,'Функция 73','2020-02-18 20:44:55','9999-12-31 00:00:00'),(28,7,'Функция 74','2020-02-18 20:44:55','9999-12-31 00:00:00'),(29,8,'Функция 81','2020-02-18 20:44:56','9999-12-31 00:00:00'),(30,8,'Функция 82','2020-02-18 20:44:56','9999-12-31 00:00:00'),(31,8,'Функция 83','2020-02-18 20:44:56','9999-12-31 00:00:00'),(32,8,'Функция 84','2020-02-18 20:44:56','9999-12-31 00:00:00'),(33,9,'Функция 91','2020-02-18 20:44:56','9999-12-31 00:00:00'),(34,9,'Функция 92','2020-02-18 20:44:56','9999-12-31 00:00:00'),(35,9,'Функция 93','2020-02-18 20:44:56','9999-12-31 00:00:00'),(36,9,'Функция 94','2020-02-18 20:44:56','9999-12-31 00:00:00'),(37,10,'Функция 101','2020-02-18 20:44:56','9999-12-31 00:00:00'),(38,10,'Функция 102','2020-02-18 20:44:56','9999-12-31 00:00:00'),(39,10,'Функция 103','2020-02-18 20:44:56','9999-12-31 00:00:00'),(40,10,'Функция 104','2020-02-18 20:44:56','9999-12-31 00:00:00'),(41,11,'Функция 111','2020-02-18 20:44:56','9999-12-31 00:00:00'),(42,11,'Функция 112','2020-02-18 20:44:56','9999-12-31 00:00:00'),(43,11,'Функция 113','2020-02-18 20:44:56','9999-12-31 00:00:00'),(44,11,'Функция 114','2020-02-18 20:44:56','9999-12-31 00:00:00'),(45,12,'Функция 121','2020-02-18 20:44:56','9999-12-31 00:00:00'),(46,12,'Функция 122','2020-02-18 20:44:56','9999-12-31 00:00:00'),(47,12,'Функция 123','2020-02-18 20:44:56','9999-12-31 00:00:00'),(48,12,'Функция 124','2020-02-18 20:44:56','9999-12-31 00:00:00'),(49,13,'Функция 131','2020-02-18 20:44:56','9999-12-31 00:00:00'),(50,13,'Функция 132','2020-02-18 20:44:56','9999-12-31 00:00:00'),(51,13,'Функция 133','2020-02-18 20:44:56','9999-12-31 00:00:00'),(52,13,'Функция 134','2020-02-18 20:44:56','9999-12-31 00:00:00'),(53,14,'Функция 141','2020-02-18 20:44:56','9999-12-31 00:00:00'),(54,14,'Функция 142','2020-02-18 20:44:56','9999-12-31 00:00:00'),(55,14,'Функция 143','2020-02-18 20:44:56','9999-12-31 00:00:00'),(56,14,'Функция 144','2020-02-18 20:44:56','9999-12-31 00:00:00'),(57,15,'Функция 151','2020-02-18 20:44:56','9999-12-31 00:00:00'),(58,15,'Функция 152','2020-02-18 20:44:56','9999-12-31 00:00:00'),(59,15,'Функция 153','2020-02-18 20:44:56','9999-12-31 00:00:00'),(60,15,'Функция 154','2020-02-18 20:44:56','9999-12-31 00:00:00'),(61,16,'Функция 161','2020-02-18 20:44:56','9999-12-31 00:00:00'),(62,16,'Функция 162','2020-02-18 20:44:56','9999-12-31 00:00:00'),(63,16,'Функция 163','2020-02-18 20:44:56','9999-12-31 00:00:00'),(64,16,'Функция 164','2020-02-18 20:44:56','9999-12-31 00:00:00'),(65,17,'Функция 171','2020-02-18 20:44:56','9999-12-31 00:00:00'),(66,17,'Функция 172','2020-02-18 20:44:56','9999-12-31 00:00:00'),(67,17,'Функция 173','2020-02-18 20:44:56','9999-12-31 00:00:00'),(68,17,'Функция 174','2020-02-18 20:44:56','9999-12-31 00:00:00'),(69,18,'Функция 181','2020-02-18 20:44:56','9999-12-31 00:00:00'),(70,18,'Функция 182','2020-02-18 20:44:56','9999-12-31 00:00:00'),(71,18,'Функция 183','2020-02-18 20:44:56','9999-12-31 00:00:00'),(72,18,'Функция 184','2020-02-18 20:44:56','9999-12-31 00:00:00'),(73,19,'Функция 191','2020-02-18 20:44:56','9999-12-31 00:00:00'),(74,19,'Функция 192','2020-02-18 20:44:56','9999-12-31 00:00:00'),(75,19,'Функция 193','2020-02-18 20:44:56','9999-12-31 00:00:00'),(76,19,'Функция 194','2020-02-18 20:44:56','9999-12-31 00:00:00'),(77,20,'Функция 201','2020-02-18 20:44:56','9999-12-31 00:00:00'),(78,20,'Функция 202','2020-02-18 20:44:56','9999-12-31 00:00:00'),(79,20,'Функция 203','2020-02-18 20:44:56','9999-12-31 00:00:00'),(80,20,'Функция 204','2020-02-18 20:44:56','9999-12-31 00:00:00'),(81,21,'Функция 211','2020-02-18 20:44:56','9999-12-31 00:00:00'),(82,21,'Функция 212','2020-02-18 20:44:56','9999-12-31 00:00:00'),(83,21,'Функция 213','2020-02-18 20:44:56','9999-12-31 00:00:00'),(84,21,'Функция 214','2020-02-18 20:44:56','9999-12-31 00:00:00'),(85,22,'Функция 221','2020-02-18 20:44:56','9999-12-31 00:00:00'),(86,22,'Функция 222','2020-02-18 20:44:56','9999-12-31 00:00:00'),(87,22,'Функция 223','2020-02-18 20:44:56','9999-12-31 00:00:00'),(88,22,'Функция 224','2020-02-18 20:44:56','9999-12-31 00:00:00'),(89,23,'Функция 231','2020-02-18 20:44:56','9999-12-31 00:00:00'),(90,23,'Функция 232','2020-02-18 20:44:56','9999-12-31 00:00:00'),(91,23,'Функция 233','2020-02-18 20:44:56','9999-12-31 00:00:00'),(92,23,'Функция 234','2020-02-18 20:44:56','9999-12-31 00:00:00'),(93,24,'Функция 241','2020-02-18 20:44:56','9999-12-31 00:00:00'),(94,24,'Функция 242','2020-02-18 20:44:56','9999-12-31 00:00:00'),(95,24,'Функция 243','2020-02-18 20:44:56','9999-12-31 00:00:00'),(96,24,'Функция 244','2020-02-18 20:44:56','9999-12-31 00:00:00'),(97,25,'Функция 251','2020-02-18 20:44:56','9999-12-31 00:00:00'),(98,25,'Функция 252','2020-02-18 20:44:56','9999-12-31 00:00:00'),(99,25,'Функция 253','2020-02-18 20:44:56','9999-12-31 00:00:00'),(100,25,'Функция 254','2020-02-18 20:44:56','9999-12-31 00:00:00'),(101,26,'Функция 261','2020-02-18 20:44:56','9999-12-31 00:00:00'),(102,26,'Функция 262','2020-02-18 20:44:56','9999-12-31 00:00:00'),(103,26,'Функция 263','2020-02-18 20:44:56','9999-12-31 00:00:00'),(104,26,'Функция 264','2020-02-18 20:44:56','9999-12-31 00:00:00'),(105,27,'Функция 271','2020-02-18 20:44:56','9999-12-31 00:00:00'),(106,27,'Функция 272','2020-02-18 20:44:56','9999-12-31 00:00:00'),(107,27,'Функция 273','2020-02-18 20:44:56','9999-12-31 00:00:00'),(108,27,'Функция 274','2020-02-18 20:44:56','9999-12-31 00:00:00'),(109,28,'Функция 281','2020-02-18 20:44:56','9999-12-31 00:00:00'),(110,28,'Функция 282','2020-02-18 20:44:56','9999-12-31 00:00:00'),(111,28,'Функция 283','2020-02-18 20:44:56','9999-12-31 00:00:00'),(112,28,'Функция 284','2020-02-18 20:44:56','9999-12-31 00:00:00');
/*!40000 ALTER TABLE `functions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `functions_staffs`
--

DROP TABLE IF EXISTS `functions_staffs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `functions_staffs` (
  `staff_id` bigint unsigned NOT NULL,
  `function_id` bigint unsigned NOT NULL,
  `linked_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Дата привязки задачи к подразделению',
  `unlinked_at` datetime DEFAULT '9999-12-31 00:00:00' COMMENT 'Дата отсоединения задачи от подразделения',
  KEY `functions_staffs_staff_id_fk` (`staff_id`),
  KEY `functions_staffs_function_id_fk` (`function_id`),
  CONSTRAINT `functions_staffs_function_id_fk` FOREIGN KEY (`function_id`) REFERENCES `functions` (`id`),
  CONSTRAINT `functions_staffs_staff_id_fk` FOREIGN KEY (`staff_id`) REFERENCES `staff_table` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Функции распределяются по должностям штатного расписания';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `functions_staffs`
--

LOCK TABLES `functions_staffs` WRITE;
/*!40000 ALTER TABLE `functions_staffs` DISABLE KEYS */;
INSERT INTO `functions_staffs` VALUES (1,1,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(1,2,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(1,3,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(1,4,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(2,1,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(2,2,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(2,3,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(2,4,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(3,5,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(3,6,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(3,7,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(3,8,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(4,5,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(4,6,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(4,7,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(4,8,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(5,5,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(5,6,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(5,7,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(5,8,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(6,9,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(6,10,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(6,11,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(6,12,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(7,9,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(7,10,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(7,11,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(7,12,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(8,9,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(8,10,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(8,11,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(8,12,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(9,13,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(9,14,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(9,15,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(9,16,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(10,13,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(10,14,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(10,15,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(10,16,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(11,13,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(11,14,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(11,15,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(11,16,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(12,13,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(12,14,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(12,15,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(12,16,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(13,13,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(13,14,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(13,15,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(13,16,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(14,17,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(14,18,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(14,19,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(14,20,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(15,17,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(15,18,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(15,19,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(15,20,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(16,17,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(16,18,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(16,19,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(16,20,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(17,17,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(17,18,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(17,19,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(17,20,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(18,17,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(18,18,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(18,19,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(18,20,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(19,21,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(19,22,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(19,23,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(19,24,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(20,21,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(20,22,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(20,23,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(20,24,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(21,21,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(21,22,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(21,23,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(21,24,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(22,21,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(22,22,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(22,23,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(22,24,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(23,21,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(23,22,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(23,23,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(23,24,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(24,25,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(24,26,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(24,27,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(24,28,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(25,25,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(25,26,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(25,27,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(25,28,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(26,25,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(26,26,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(26,27,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(26,28,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(27,29,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(27,30,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(27,31,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(27,32,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(28,29,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(28,30,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(28,31,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(28,32,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(29,29,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(29,30,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(29,31,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(29,32,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(30,29,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(30,30,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(30,31,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(30,32,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(31,29,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(31,30,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(31,31,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(31,32,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(32,33,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(32,34,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(32,35,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(32,36,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(33,33,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(33,34,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(33,35,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(33,36,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(34,33,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(34,34,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(34,35,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(34,36,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(35,33,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(35,34,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(35,35,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(35,36,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(36,33,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(36,34,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(36,35,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(36,36,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(37,37,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(37,38,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(37,39,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(37,40,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(38,37,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(38,38,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(38,39,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(38,40,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(39,37,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(39,38,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(39,39,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(39,40,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(40,37,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(40,38,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(40,39,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(40,40,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(41,37,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(41,38,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(41,39,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(41,40,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(42,41,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(42,42,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(42,43,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(42,44,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(43,41,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(43,42,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(43,43,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(43,44,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(44,41,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(44,42,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(44,43,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(44,44,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(45,45,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(45,46,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(45,47,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(45,48,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(46,45,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(46,46,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(46,47,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(46,48,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(47,45,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(47,46,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(47,47,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(47,48,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(48,49,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(48,50,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(48,51,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(48,52,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(49,49,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(49,50,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(49,51,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(49,52,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(50,49,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(50,50,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(50,51,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(50,52,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(51,49,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(51,50,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(51,51,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(51,52,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(52,49,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(52,50,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(52,51,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(52,52,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(53,53,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(53,54,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(53,55,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(53,56,'2020-02-18 20:45:53','9999-12-31 00:00:00'),(54,53,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(54,54,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(54,55,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(54,56,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(55,53,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(55,54,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(55,55,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(55,56,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(56,53,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(56,54,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(56,55,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(56,56,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(57,53,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(57,54,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(57,55,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(57,56,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(58,57,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(58,58,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(58,59,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(58,60,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(59,57,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(59,58,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(59,59,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(59,60,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(60,57,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(60,58,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(60,59,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(60,60,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(61,57,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(61,58,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(61,59,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(61,60,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(62,57,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(62,58,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(62,59,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(62,60,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(63,61,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(63,62,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(63,63,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(63,64,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(64,61,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(64,62,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(64,63,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(64,64,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(65,61,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(65,62,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(65,63,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(65,64,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(66,65,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(66,66,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(66,67,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(66,68,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(67,65,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(67,66,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(67,67,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(67,68,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(68,65,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(68,66,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(68,67,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(68,68,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(69,65,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(69,66,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(69,67,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(69,68,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(70,65,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(70,66,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(70,67,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(70,68,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(71,69,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(71,70,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(71,71,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(71,72,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(72,69,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(72,70,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(72,71,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(72,72,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(73,69,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(73,70,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(73,71,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(73,72,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(74,69,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(74,70,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(74,71,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(74,72,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(75,69,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(75,70,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(75,71,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(75,72,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(76,73,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(76,74,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(76,75,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(76,76,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(77,73,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(77,74,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(77,75,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(77,76,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(78,73,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(78,74,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(78,75,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(78,76,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(79,73,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(79,74,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(79,75,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(79,76,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(80,73,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(80,74,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(80,75,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(80,76,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(81,77,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(81,78,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(81,79,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(81,80,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(82,77,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(82,78,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(82,79,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(82,80,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(83,77,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(83,78,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(83,79,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(83,80,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(84,81,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(84,82,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(84,83,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(84,84,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(85,81,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(85,82,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(85,83,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(85,84,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(86,81,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(86,82,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(86,83,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(86,84,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(87,85,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(87,86,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(87,87,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(87,88,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(88,85,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(88,86,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(88,87,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(88,88,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(89,85,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(89,86,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(89,87,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(89,88,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(90,85,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(90,86,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(90,87,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(90,88,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(91,85,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(91,86,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(91,87,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(91,88,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(92,89,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(92,90,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(92,91,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(92,92,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(93,89,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(93,90,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(93,91,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(93,92,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(94,89,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(94,90,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(94,91,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(94,92,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(95,89,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(95,90,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(95,91,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(95,92,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(96,89,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(96,90,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(96,91,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(96,92,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(97,93,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(97,94,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(97,95,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(97,96,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(98,93,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(98,94,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(98,95,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(98,96,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(99,93,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(99,94,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(99,95,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(99,96,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(100,93,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(100,94,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(100,95,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(100,96,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(101,93,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(101,94,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(101,95,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(101,96,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(102,97,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(102,98,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(102,99,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(102,100,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(103,97,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(103,98,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(103,99,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(103,100,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(104,97,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(104,98,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(104,99,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(104,100,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(105,101,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(105,102,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(105,103,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(105,104,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(106,101,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(106,102,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(106,103,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(106,104,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(107,101,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(107,102,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(107,103,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(107,104,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(108,101,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(108,102,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(108,103,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(108,104,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(109,101,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(109,102,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(109,103,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(109,104,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(110,105,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(110,106,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(110,107,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(110,108,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(111,105,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(111,106,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(111,107,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(111,108,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(112,105,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(112,106,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(112,107,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(112,108,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(113,105,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(113,106,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(113,107,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(113,108,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(114,105,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(114,106,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(114,107,'2020-02-18 20:45:54','9999-12-31 00:00:00'),(114,108,'2020-02-18 20:45:54','9999-12-31 00:00:00');
/*!40000 ALTER TABLE `functions_staffs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `labor_periods`
--

DROP TABLE IF EXISTS `labor_periods`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `labor_periods` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `resume_id` bigint unsigned NOT NULL,
  `name` varchar(255) NOT NULL COMMENT 'Наименование учебного заведения',
  `begin_at` date NOT NULL COMMENT 'Начало обучения',
  `end_at` date NOT NULL COMMENT 'Окночание обучения',
  UNIQUE KEY `id` (`id`),
  KEY `labor_periods_resume_id_fk` (`resume_id`),
  CONSTRAINT `labor_periods_resume_id_fk` FOREIGN KEY (`resume_id`) REFERENCES `resumes` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Данные о трудовой деятельности';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `labor_periods`
--

LOCK TABLES `labor_periods` WRITE;
/*!40000 ALTER TABLE `labor_periods` DISABLE KEYS */;
/*!40000 ALTER TABLE `labor_periods` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `personal`
--

DROP TABLE IF EXISTS `personal`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `personal` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `staff_id` bigint unsigned DEFAULT NULL COMMENT 'Занимаемая должность',
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Таблица сотрудников';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `personal`
--

LOCK TABLES `personal` WRITE;
/*!40000 ALTER TABLE `personal` DISABLE KEYS */;
INSERT INTO `personal` VALUES (1,'Пупкин Иван Семёнович',3),(2,'Тряпочкни Сергей Петрович',6),(3,'Сергеев Петр Сергеевич',9),(4,'Тюлькин Сергей Иванович',10),(5,'Иванов Сидр Петрович',12);
/*!40000 ALTER TABLE `personal` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `add_person` AFTER INSERT ON `personal` FOR EACH ROW BEGIN
	UPDATE staff_table SET is_vacant = FALSE, vacant_from = '9999-12-31'
		WHERE id = NEW.staff_id;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `delete_person` AFTER DELETE ON `personal` FOR EACH ROW BEGIN
	UPDATE staff_table SET is_vacant = TRUE, vacant_from = NOW()
		WHERE id = OLD.staff_id;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `places`
--

DROP TABLE IF EXISTS `places`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `places` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(128) NOT NULL,
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=23 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Города';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `places`
--

LOCK TABLES `places` WRITE;
/*!40000 ALTER TABLE `places` DISABLE KEYS */;
INSERT INTO `places` VALUES (21,'Барнаул'),(15,'Волгоград'),(13,'Воронеж'),(4,'Екатеринбург'),(20,'Ижевск'),(6,'Казань'),(16,'Краснодар'),(12,'Красноярск'),(1,'Москва'),(5,'Нижний Новгород'),(3,'Новосибирск'),(8,'Омск'),(14,'Пермь'),(10,'Ростов-на-Дону'),(9,'Самара'),(2,'Санкт-Петербург'),(17,'Саратов'),(19,'Тольятти'),(18,'Тюмень'),(22,'Ульяновск'),(11,'Уфа'),(7,'Челябинск');
/*!40000 ALTER TABLE `places` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `positions`
--

DROP TABLE IF EXISTS `positions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `positions` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(128) NOT NULL,
  `level_id` bigint unsigned NOT NULL,
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `level_id_fk` (`level_id`),
  CONSTRAINT `level_id_fk` FOREIGN KEY (`level_id`) REFERENCES `positions_levels` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Таблица должностей';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `positions`
--

LOCK TABLES `positions` WRITE;
/*!40000 ALTER TABLE `positions` DISABLE KEYS */;
INSERT INTO `positions` VALUES (1,'Генеральный директор',1),(2,'Начальник Департамента',2),(3,'Начальник Управления',2),(4,'Начальник отдела',2),(5,'Заместитель начальника Департамента',2),(6,'Заместитель начальника Управления',2),(7,'Заместитель начальника отдела',2),(8,'главный специалист',3),(9,'ведущий специалист',3),(10,'ведущий инженер',3),(11,'секретарь',4),(12,'референт',4),(13,'ведущий программист',3);
/*!40000 ALTER TABLE `positions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `positions_levels`
--

DROP TABLE IF EXISTS `positions_levels`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `positions_levels` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(128) NOT NULL,
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Таблица уровней должности';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `positions_levels`
--

LOCK TABLES `positions_levels` WRITE;
/*!40000 ALTER TABLE `positions_levels` DISABLE KEYS */;
INSERT INTO `positions_levels` VALUES (1,'Высший управленческий состав'),(5,'Рабочие'),(2,'Руководители'),(4,'Служащие'),(3,'Специалисты');
/*!40000 ALTER TABLE `positions_levels` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `relatives`
--

DROP TABLE IF EXISTS `relatives`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `relatives` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(16) NOT NULL,
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Родственники';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `relatives`
--

LOCK TABLES `relatives` WRITE;
/*!40000 ALTER TABLE `relatives` DISABLE KEYS */;
INSERT INTO `relatives` VALUES (7,'Брат'),(6,'Дочь'),(4,'Жена'),(1,'Мать'),(3,'Муж'),(2,'Отец'),(8,'Сестра'),(5,'Сын');
/*!40000 ALTER TABLE `relatives` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `requests`
--

DROP TABLE IF EXISTS `requests`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `requests` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `staff_id` bigint unsigned DEFAULT NULL COMMENT 'Идентификатор вакантной должности',
  `activity_id` bigint unsigned DEFAULT NULL COMMENT 'Идентификатор направления деятельности',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `closed_at` datetime DEFAULT '9999-12-31 00:00:00',
  UNIQUE KEY `id` (`id`),
  KEY `requests_staff_id_fk` (`staff_id`),
  KEY `requests_activity_id_fk` (`activity_id`),
  CONSTRAINT `requests_activity_id_fk` FOREIGN KEY (`activity_id`) REFERENCES `activities` (`id`),
  CONSTRAINT `requests_staff_id_fk` FOREIGN KEY (`staff_id`) REFERENCES `staff_table` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=64 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='заявка на подбор';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `requests`
--

LOCK TABLES `requests` WRITE;
/*!40000 ALTER TABLE `requests` DISABLE KEYS */;
INSERT INTO `requests` VALUES (1,1,18,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(2,2,5,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(3,4,17,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(4,5,23,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(5,7,11,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(6,8,11,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(7,11,23,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(8,13,6,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(9,14,10,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(10,15,8,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(11,16,7,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(12,17,10,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(13,18,3,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(14,19,10,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(15,20,14,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(16,21,17,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(17,22,17,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(18,23,7,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(19,24,10,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(20,25,2,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(21,26,7,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(22,27,1,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(23,28,11,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(24,29,24,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(25,30,11,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(26,31,8,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(27,32,7,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(28,33,10,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(29,34,5,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(30,35,17,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(31,36,21,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(32,37,5,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(33,38,11,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(34,39,14,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(35,40,13,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(36,41,21,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(37,42,15,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(38,43,11,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(39,44,11,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(40,45,20,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(41,46,18,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(42,47,4,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(43,48,17,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(44,49,24,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(45,50,15,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(46,51,2,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(47,52,15,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(48,53,18,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(49,54,21,'2020-02-18 21:16:25','9999-12-31 00:00:00'),(50,55,2,'2020-02-18 21:16:25','9999-12-31 00:00:00');
/*!40000 ALTER TABLE `requests` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `requests_detail`
--

DROP TABLE IF EXISTS `requests_detail`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `requests_detail` (
  `request_id` bigint unsigned NOT NULL,
  `edu_id` bigint unsigned DEFAULT NULL COMMENT 'Требование к образованию',
  `experience` tinyint unsigned DEFAULT NULL COMMENT 'Требования к стажу',
  `language` varchar(32) DEFAULT NULL COMMENT 'Иностранный язык',
  `foreign_level_id` bigint unsigned DEFAULT NULL COMMENT 'Требование к уровню знания иностранного языка',
  `special_skills` text COMMENT 'Специальные умения и навыки',
  PRIMARY KEY (`request_id`),
  KEY `requests_detail_edu_id_fk` (`edu_id`),
  KEY `requests_detail_foreign_level_id_fk` (`foreign_level_id`),
  CONSTRAINT `requests_detail_edu_id_fk` FOREIGN KEY (`edu_id`) REFERENCES `edu_types` (`id`),
  CONSTRAINT `requests_detail_foreign_level_id_fk` FOREIGN KEY (`foreign_level_id`) REFERENCES `foreign_levels` (`id`),
  CONSTRAINT `requests_detail_recuest_id_fk` FOREIGN KEY (`request_id`) REFERENCES `requests` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Детальные требования к должности';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `requests_detail`
--

LOCK TABLES `requests_detail` WRITE;
/*!40000 ALTER TABLE `requests_detail` DISABLE KEYS */;
INSERT INTO `requests_detail` VALUES (1,6,9,'Английский',4,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(2,2,10,'Немецкий',1,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(3,3,3,'Китиайский',6,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(4,3,4,'Английский',4,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(5,6,7,'Немецкий',2,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(6,2,4,'Китиайский',2,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(7,4,6,'Английский',2,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(8,6,5,'Немецкий',5,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(9,1,6,'Китиайский',8,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(10,4,3,'Английский',7,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(11,5,5,'Немецкий',9,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(12,3,2,'Китиайский',4,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(13,5,7,'Английский',8,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(14,2,7,'Немецкий',7,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(15,3,1,'Китиайский',9,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(16,3,4,'Английский',4,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(17,1,4,'Немецкий',5,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(18,4,10,'Китиайский',1,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(19,4,5,'Английский',5,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(20,3,5,'Немецкий',2,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(21,3,6,'Китиайский',6,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(22,2,2,'Английский',3,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(23,5,9,'Немецкий',1,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(24,4,9,'Китиайский',6,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(25,2,9,'Английский',2,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(26,3,3,'Немецкий',1,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(27,4,5,'Китиайский',8,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(28,4,7,'Английский',6,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(29,1,3,'Немецкий',9,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(30,2,7,'Китиайский',3,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(31,4,3,'Английский',2,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(32,2,5,'Немецкий',8,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(33,5,2,'Китиайский',5,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(34,2,9,'Английский',4,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(35,2,5,'Немецкий',3,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(36,1,7,'Китиайский',1,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(37,3,1,'Английский',1,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(38,5,9,'Немецкий',1,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(39,5,4,'Китиайский',4,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(40,1,3,'Английский',2,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(41,6,4,'Немецкий',1,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(42,6,8,'Китиайский',6,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(43,1,4,'Английский',6,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(44,2,2,'Немецкий',1,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(45,4,2,'Китиайский',8,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(46,4,3,'Английский',7,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(47,6,6,'Немецкий',7,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)'),(48,1,2,'Китиайский',4,'Способность оперативной обработки значительного объёма материала, обучаемость, логический склад ума'),(49,5,8,'Английский',5,'Навыки подготовки внутренних документов, ведения деловой переписки, аналитической работы'),(50,6,3,'Немецкий',5,'Высокий уровень владения стандартными приложениями MS Office (Word, Excel, PowerPoint и др.)');
/*!40000 ALTER TABLE `requests_detail` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `resume_edus`
--

DROP TABLE IF EXISTS `resume_edus`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `resume_edus` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `resume_id` bigint unsigned NOT NULL,
  `name` varchar(255) NOT NULL COMMENT 'Наименование учебного заведения',
  `begin_at` date NOT NULL COMMENT 'Начало обучения',
  `end_at` date NOT NULL COMMENT 'Окночание обучения',
  `edu_type_id` bigint unsigned NOT NULL,
  UNIQUE KEY `id` (`id`),
  KEY `resume_edus_resume_id_fk` (`resume_id`),
  KEY `resume_edus_edu_type_id_fk` (`edu_type_id`),
  CONSTRAINT `resume_edus_edu_type_id_fk` FOREIGN KEY (`edu_type_id`) REFERENCES `edu_types` (`id`),
  CONSTRAINT `resume_edus_resume_id_fk` FOREIGN KEY (`resume_id`) REFERENCES `resumes` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Данные об образовании';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `resume_edus`
--

LOCK TABLES `resume_edus` WRITE;
/*!40000 ALTER TABLE `resume_edus` DISABLE KEYS */;
/*!40000 ALTER TABLE `resume_edus` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `resumes`
--

DROP TABLE IF EXISTS `resumes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `resumes` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(128) NOT NULL COMMENT 'Для прототы ФИО поместим с одно поле',
  `birthday` date NOT NULL,
  `sex` enum('мужской','женский') NOT NULL,
  `place_id` bigint unsigned DEFAULT NULL COMMENT 'Место рождения',
  `email` varchar(128) NOT NULL,
  `phone` varchar(16) NOT NULL,
  `salary_before` bigint unsigned DEFAULT NULL COMMENT 'Текущий размер зарплаты',
  `salary_after` bigint unsigned DEFAULT NULL COMMENT 'Желаемый размер зарплаты',
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `email` (`email`),
  UNIQUE KEY `phone` (`phone`),
  KEY `resumes_place_id_fk` (`place_id`),
  CONSTRAINT `resumes_place_id_fk` FOREIGN KEY (`place_id`) REFERENCES `places` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Данные кандидатов';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `resumes`
--

LOCK TABLES `resumes` WRITE;
/*!40000 ALTER TABLE `resumes` DISABLE KEYS */;
/*!40000 ALTER TABLE `resumes` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `selection_steps`
--

DROP TABLE IF EXISTS `selection_steps`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `selection_steps` (
  `id` tinyint unsigned NOT NULL,
  `name` varchar(128) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Этапы прохождения отбора кандидатом';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `selection_steps`
--

LOCK TABLES `selection_steps` WRITE;
/*!40000 ALTER TABLE `selection_steps` DISABLE KEYS */;
INSERT INTO `selection_steps` VALUES (2,'Первичное собеседование в кадровой службе'),(6,'Принятие решение о приёме'),(5,'Проверка кандидата в Службе безопасности'),(1,'Проверка полноты персональных данных и документов'),(3,'Собеседование в подразделении подашем заявку на подбор'),(4,'Собеседование с руководителем кадровой службы');
/*!40000 ALTER TABLE `selection_steps` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `staff_table`
--

DROP TABLE IF EXISTS `staff_table`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `staff_table` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `unit_id` bigint unsigned NOT NULL,
  `position_id` bigint unsigned NOT NULL,
  `is_vacant` tinyint(1) DEFAULT '1',
  `vacant_from` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'С какой даты уществует вакансия',
  `begin_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Дата создания штатной единицы',
  `end_at` datetime DEFAULT '9999-12-31 00:00:00' COMMENT 'Дата ограничения штатноой единицы',
  UNIQUE KEY `id` (`id`),
  KEY `staff_table_unit_id_fk` (`unit_id`),
  KEY `staff_table_position_id_fk` (`position_id`),
  CONSTRAINT `staff_table_position_id_fk` FOREIGN KEY (`position_id`) REFERENCES `positions` (`id`),
  CONSTRAINT `staff_table_unit_id_fk` FOREIGN KEY (`unit_id`) REFERENCES `units` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=115 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Штатное расписание';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `staff_table`
--

LOCK TABLES `staff_table` WRITE;
/*!40000 ALTER TABLE `staff_table` DISABLE KEYS */;
INSERT INTO `staff_table` VALUES (1,1,13,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(2,1,10,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(3,2,1,0,'9999-12-31 00:00:00','2020-02-18 20:44:17','9999-12-31 00:00:00'),(4,2,4,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(5,2,10,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(6,3,2,0,'9999-12-31 00:00:00','2020-02-18 20:44:17','9999-12-31 00:00:00'),(7,3,5,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(8,3,10,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(9,4,8,0,'9999-12-31 00:00:00','2020-02-18 20:44:17','9999-12-31 00:00:00'),(10,4,9,0,'9999-12-31 00:00:00','2020-02-18 20:44:17','9999-12-31 00:00:00'),(11,4,9,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(12,4,8,0,'9999-12-31 00:00:00','2020-02-18 20:44:17','9999-12-31 00:00:00'),(13,4,7,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(14,5,8,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(15,5,8,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(16,5,6,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(17,5,6,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(18,5,8,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(19,6,6,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(20,6,9,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(21,6,8,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(22,6,6,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(23,6,8,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(24,7,2,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(25,7,5,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(26,7,10,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(27,8,7,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(28,8,6,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(29,8,6,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(30,8,7,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(31,8,7,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(32,9,6,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(33,9,7,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(34,9,8,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(35,9,6,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(36,9,8,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(37,10,8,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(38,10,8,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(39,10,8,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(40,10,6,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(41,10,6,1,'2020-02-18 20:44:17','2020-02-18 20:44:17','9999-12-31 00:00:00'),(42,11,1,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(43,11,4,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(44,11,10,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(45,12,2,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(46,12,5,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(47,12,10,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(48,13,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(49,13,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(50,13,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(51,13,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(52,13,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(53,14,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(54,14,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(55,14,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(56,14,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(57,14,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(58,15,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(59,15,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(60,15,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(61,15,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(62,15,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(63,16,2,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(64,16,5,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(65,16,10,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(66,17,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(67,17,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(68,17,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(69,17,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(70,17,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(71,18,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(72,18,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(73,18,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(74,18,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(75,18,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(76,19,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(77,19,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(78,19,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(79,19,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(80,19,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(81,20,1,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(82,20,4,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(83,20,10,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(84,21,2,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(85,21,5,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(86,21,10,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(87,22,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(88,22,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(89,22,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(90,22,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(91,22,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(92,23,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(93,23,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(94,23,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(95,23,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(96,23,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(97,24,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(98,24,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(99,24,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(100,24,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(101,24,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(102,25,2,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(103,25,5,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(104,25,10,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(105,26,8,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(106,26,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(107,26,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(108,26,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(109,26,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(110,27,9,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(111,27,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(112,27,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(113,27,7,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00'),(114,27,6,1,'2020-02-18 20:44:18','2020-02-18 20:44:18','9999-12-31 00:00:00');
/*!40000 ALTER TABLE `staff_table` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tasks`
--

DROP TABLE IF EXISTS `tasks`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `tasks` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` text NOT NULL COMMENT 'Текстовое описание задачи',
  `begin_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Дата создания задачи',
  `end_at` datetime DEFAULT '9999-12-31 00:00:00' COMMENT 'Дата ограничения задачи',
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Задачи подразделений';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tasks`
--

LOCK TABLES `tasks` WRITE;
/*!40000 ALTER TABLE `tasks` DISABLE KEYS */;
INSERT INTO `tasks` VALUES (1,'Задача 1','2020-02-18 20:44:55','9999-12-31 00:00:00'),(2,'Задача 2','2020-02-18 20:44:55','9999-12-31 00:00:00'),(3,'Задача 3','2020-02-18 20:44:55','9999-12-31 00:00:00'),(4,'Задача 4','2020-02-18 20:44:55','9999-12-31 00:00:00'),(5,'Задача 5','2020-02-18 20:44:55','9999-12-31 00:00:00'),(6,'Задача 6','2020-02-18 20:44:55','9999-12-31 00:00:00'),(7,'Задача 7','2020-02-18 20:44:55','9999-12-31 00:00:00'),(8,'Задача 8','2020-02-18 20:44:55','9999-12-31 00:00:00'),(9,'Задача 9','2020-02-18 20:44:56','9999-12-31 00:00:00'),(10,'Задача 10','2020-02-18 20:44:56','9999-12-31 00:00:00'),(11,'Задача 11','2020-02-18 20:44:56','9999-12-31 00:00:00'),(12,'Задача 12','2020-02-18 20:44:56','9999-12-31 00:00:00'),(13,'Задача 13','2020-02-18 20:44:56','9999-12-31 00:00:00'),(14,'Задача 14','2020-02-18 20:44:56','9999-12-31 00:00:00'),(15,'Задача 15','2020-02-18 20:44:56','9999-12-31 00:00:00'),(16,'Задача 16','2020-02-18 20:44:56','9999-12-31 00:00:00'),(17,'Задача 17','2020-02-18 20:44:56','9999-12-31 00:00:00'),(18,'Задача 18','2020-02-18 20:44:56','9999-12-31 00:00:00'),(19,'Задача 19','2020-02-18 20:44:56','9999-12-31 00:00:00'),(20,'Задача 20','2020-02-18 20:44:56','9999-12-31 00:00:00'),(21,'Задача 21','2020-02-18 20:44:56','9999-12-31 00:00:00'),(22,'Задача 22','2020-02-18 20:44:56','9999-12-31 00:00:00'),(23,'Задача 23','2020-02-18 20:44:56','9999-12-31 00:00:00'),(24,'Задача 24','2020-02-18 20:44:56','9999-12-31 00:00:00'),(25,'Задача 25','2020-02-18 20:44:56','9999-12-31 00:00:00'),(26,'Задача 26','2020-02-18 20:44:56','9999-12-31 00:00:00'),(27,'Задача 27','2020-02-18 20:44:56','9999-12-31 00:00:00'),(28,'Задача 28','2020-02-18 20:44:56','9999-12-31 00:00:00');
/*!40000 ALTER TABLE `tasks` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tasks_units`
--

DROP TABLE IF EXISTS `tasks_units`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `tasks_units` (
  `unit_id` bigint unsigned NOT NULL,
  `task_id` bigint unsigned NOT NULL,
  `linked_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Дата привязки задачи к подразделению',
  `unlinked_at` datetime DEFAULT '9999-12-31 00:00:00' COMMENT 'Дата отсоединения задачи от подразделения',
  KEY `tasks_units_task_id_fk` (`task_id`),
  KEY `tasks_units_unit_id_fk` (`unit_id`),
  CONSTRAINT `tasks_units_task_id_fk` FOREIGN KEY (`task_id`) REFERENCES `tasks` (`id`),
  CONSTRAINT `tasks_units_unit_id_fk` FOREIGN KEY (`unit_id`) REFERENCES `units` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Функции распределяются по должностям штатного расписания';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tasks_units`
--

LOCK TABLES `tasks_units` WRITE;
/*!40000 ALTER TABLE `tasks_units` DISABLE KEYS */;
INSERT INTO `tasks_units` VALUES (1,1,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(2,2,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(3,3,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(4,4,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(5,5,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(6,6,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(7,7,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(8,8,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(9,9,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(10,10,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(11,11,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(12,12,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(13,13,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(14,14,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(15,15,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(16,16,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(17,17,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(18,18,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(19,19,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(20,20,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(21,21,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(22,22,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(23,23,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(24,24,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(25,25,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(26,26,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(27,27,'2020-02-18 20:45:27','9999-12-31 00:00:00'),(28,28,'2020-02-18 20:45:27','9999-12-31 00:00:00');
/*!40000 ALTER TABLE `tasks_units` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `unit_links`
--

DROP TABLE IF EXISTS `unit_links`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `unit_links` (
  `unit_id` bigint unsigned NOT NULL,
  `parent_id` bigint unsigned NOT NULL,
  `level` tinyint unsigned NOT NULL COMMENT 'Уровень подразделения в структуре',
  PRIMARY KEY (`unit_id`,`parent_id`),
  KEY `unit_links_parent_id_fk` (`parent_id`),
  CONSTRAINT `unit_links_parent_id_fk` FOREIGN KEY (`parent_id`) REFERENCES `units` (`id`),
  CONSTRAINT `unit_links_unit_id_fk` FOREIGN KEY (`unit_id`) REFERENCES `units` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Иерархия организационных единиц';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `unit_links`
--

LOCK TABLES `unit_links` WRITE;
/*!40000 ALTER TABLE `unit_links` DISABLE KEYS */;
INSERT INTO `unit_links` VALUES (1,1,1),(2,1,1),(2,2,2),(3,1,1),(3,2,2),(3,3,3),(4,1,1),(4,2,2),(4,3,3),(4,4,4),(5,1,1),(5,2,2),(5,3,3),(5,5,4),(6,1,1),(6,2,2),(6,3,3),(6,6,4),(7,1,1),(7,2,2),(7,7,3),(8,1,1),(8,2,2),(8,7,3),(8,8,4),(9,1,1),(9,2,2),(9,7,3),(9,9,4),(10,1,1),(10,2,2),(10,7,3),(10,10,4),(11,1,1),(11,11,2),(12,1,1),(12,11,2),(12,12,3),(13,1,1),(13,11,2),(13,12,3),(13,13,4),(14,1,1),(14,11,2),(14,12,3),(14,14,4),(15,1,1),(15,11,2),(15,12,3),(15,15,4),(16,1,1),(16,11,2),(16,16,3),(17,1,1),(17,11,2),(17,16,3),(17,17,4),(18,1,1),(18,11,2),(18,16,3),(18,18,4),(19,1,1),(19,11,2),(19,16,3),(19,19,4),(20,1,1),(20,20,2),(21,1,1),(21,20,2),(21,21,3),(22,1,1),(22,20,2),(22,21,3),(22,22,4),(23,1,1),(23,20,2),(23,21,3),(23,23,4),(24,1,1),(24,20,2),(24,21,3),(24,24,4),(25,1,1),(25,20,2),(25,25,3),(26,1,1),(26,20,2),(26,25,3),(26,26,4),(27,1,1),(27,20,2),(27,25,3),(27,27,4),(28,1,1),(28,20,2),(28,25,3),(28,28,4);
/*!40000 ALTER TABLE `unit_links` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `units`
--

DROP TABLE IF EXISTS `units`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `units` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `parent_id` bigint unsigned DEFAULT NULL,
  `name` varchar(128) DEFAULT NULL COMMENT 'Наименование орг. единицы',
  `begin_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Дата создания орг. единицы',
  `end_at` datetime DEFAULT '9999-12-31 00:00:00' COMMENT 'Дата ограничения орг. единицы',
  UNIQUE KEY `id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Организационные единиц';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `units`
--

LOCK TABLES `units` WRITE;
/*!40000 ALTER TABLE `units` DISABLE KEYS */;
INSERT INTO `units` VALUES (1,NULL,'Организация','2020-02-18 20:43:51','9999-12-31 00:00:00'),(2,1,'Департамент 1','2020-02-18 20:43:51','9999-12-31 00:00:00'),(3,2,'Управление 11','2020-02-18 20:43:51','9999-12-31 00:00:00'),(4,3,'отдел 111','2020-02-18 20:43:51','9999-12-31 00:00:00'),(5,3,'отдел 112','2020-02-18 20:43:51','9999-12-31 00:00:00'),(6,3,'отдел 113','2020-02-18 20:43:51','9999-12-31 00:00:00'),(7,2,'Управление 12','2020-02-18 20:43:51','9999-12-31 00:00:00'),(8,7,'отдел 121','2020-02-18 20:43:51','9999-12-31 00:00:00'),(9,7,'отдел 122','2020-02-18 20:43:51','9999-12-31 00:00:00'),(10,7,'отдел 123','2020-02-18 20:43:51','9999-12-31 00:00:00'),(11,1,'Департамент 2','2020-02-18 20:43:51','9999-12-31 00:00:00'),(12,11,'Управление 21','2020-02-18 20:43:51','9999-12-31 00:00:00'),(13,12,'отдел 211','2020-02-18 20:43:51','9999-12-31 00:00:00'),(14,12,'отдел 212','2020-02-18 20:43:51','9999-12-31 00:00:00'),(15,12,'отдел 213','2020-02-18 20:43:51','9999-12-31 00:00:00'),(16,11,'Управление 22','2020-02-18 20:43:51','9999-12-31 00:00:00'),(17,16,'отдел 221','2020-02-18 20:43:51','9999-12-31 00:00:00'),(18,16,'отдел 222','2020-02-18 20:43:51','9999-12-31 00:00:00'),(19,16,'отдел 223','2020-02-18 20:43:51','9999-12-31 00:00:00'),(20,1,'Департамент 3','2020-02-18 20:43:51','9999-12-31 00:00:00'),(21,20,'Управление 31','2020-02-18 20:43:51','9999-12-31 00:00:00'),(22,21,'отдел 311','2020-02-18 20:43:51','9999-12-31 00:00:00'),(23,21,'отдел 312','2020-02-18 20:43:51','9999-12-31 00:00:00'),(24,21,'отдел 313','2020-02-18 20:43:51','9999-12-31 00:00:00'),(25,20,'Управление 32','2020-02-18 20:43:51','9999-12-31 00:00:00'),(26,25,'отдел 321','2020-02-18 20:43:51','9999-12-31 00:00:00'),(27,25,'отдел 322','2020-02-18 20:43:51','9999-12-31 00:00:00'),(28,25,'отдел 323','2020-02-18 20:43:51','9999-12-31 00:00:00');
/*!40000 ALTER TABLE `units` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8 */ ;
/*!50003 SET character_set_results = utf8 */ ;
/*!50003 SET collation_connection  = utf8_general_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `add_unit` AFTER INSERT ON `units` FOR EACH ROW BEGIN
	IF NEW.parent_id IS NULL THEN
		INSERT INTO unit_links (unit_id, parent_id, level)
			VALUES(NEW.id, NEW.id, 1);
    ELSE 
		SELECT level INTO @l FROM unit_links WHERE unit_id = NEW.parent_id AND parent_id = NEW.parent_id;
        INSERT INTO unit_links (unit_id, parent_id, level)
			VALUES(NEW.id, NEW.id, @l + 1);
        INSERT INTO unit_links (unit_id, parent_id, level)
					SELECT NEW.id, parent_id, level FROM unit_links WHERE unit_id = NEW.parent_id;	
    END IF;        
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `wishes`
--

DROP TABLE IF EXISTS `wishes`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `wishes` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(128) NOT NULL,
  UNIQUE KEY `id` (`id`),
  UNIQUE KEY `name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Виды пожеланий кандидата';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `wishes`
--

LOCK TABLES `wishes` WRITE;
/*!40000 ALTER TABLE `wishes` DISABLE KEYS */;
INSERT INTO `wishes` VALUES (3,'Вид договора'),(1,'Готовность к командировкам'),(2,'Готовность к перезду'),(5,'Ожидания по зарплате'),(4,'Характер занятости');
/*!40000 ALTER TABLE `wishes` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2020-02-18 23:00:06
